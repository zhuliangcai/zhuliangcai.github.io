---
layout: post
title: linux常用命令记录
categories: [linux,shell]
description: linux常用命令记录
keywords: linux,shell
---

linux常用命令记录

## 打包
压缩gz格式：tar -zcvf sky8g.tar.gz  *.c     //表示压缩当前的带有.c结尾的文件进行压缩成gz格式，但是解压也要使用gz格式解压即使
 
解压gz格式：tar -zxvf  sky8g.tar.gz  //解压到当前的文件夹
 
 tar -zcvf mywebapp.tar.gz webapp
 
压缩tbz格式：tar -cvfj file.tar.tbz example.cpp
解压tbz格式：tar -xvfj file.tar.tbz example.cpp
 
注：总结即使加z是gz格式，加j是tbz格式，不带这两个参数即使option为cvf则是tar格式，解压也用xvf解压即可。如果要解压到某个目录下面就要加上-C参数。例如  tar -zxvf  sky8g.tar.gz  -C /var/www/

## 查看linux的发行版本

```
[kduser@v-k8s-smartpos elasticsearch-6.6.2]$ cat /etc/centos-release
CentOS Linux release 7.6.1810 (Core)
[kduser@v-k8s-smartpos elasticsearch-6.6.2]$ cat /etc/issue
```

## 学习vi的方法

直接敲命令  vimtutor 进入vim教程

显示行号
输入命令：

    set nu

或者

    set number

取消显示行号
命令：

    set nonu

或者

    set nonumber

文件内容替换
命令格式2：sed 's/原字符串/新字符串/g' 文件

判断文件格式
#vi 文件名 进入文档内
# :set ff?
随即显示出脚本文件的格式 要么是dos 要么是unix

dos格式和unix格式差别就在于换行符。
只要把所有的换行符统一，就完成了转化，如
unix2dos 是转为dos格式
dos2unix 是转为unix格式
但是判断就不是绝对的了，因为有可能文件中既有dos换行符，也有unix换行符，因此是模糊的，并没有什么意义。
有使用用file 命令可以显示格式，但并不一定有效。

## linux快捷键

Ctrl+l 清屏
ctrl+r 搜索历史命令

## 在文件第一行添加内容
sed '1i 添加的内容' file  #这是在第一行前添加字符串
sed '$i 添加的内容' file  #这是在最后一行行前添加字符串
sed '$a添加的内容' file  #这是在最后一行行后添加字符串
参数 -i 意思是删除原文件生成新文件
sed -i '1i 添加的内容' init_cast.sql
suffix是备份原文件
sed -i[suffix] '1i 添加的内容' init_cast.sql

dos2unix file #去除文件中所有的 ^M

