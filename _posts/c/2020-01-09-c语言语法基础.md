---
layout: post
title: c语言语法基础
categories: [C, c,c语言]
description: c语言语法基础
keywords: C, c,c语言,语法基础
---

c语言语法基础

## C语言标准

在1989年美国国家标准学会(ANSI）通过的C语言标准ANSI X3.159-1989被称为
C89。之后在1990年，国际标准化组织ISO也接受了同样的标准ISO9899-1990，该标
准被称为C90。1999年ANSI又通过了C99标准。C99标准相对C89做了很多修改，例
如变量声明可以不放在函数开头，支持变长数组等。但由于很多编译器仍然没有对
C99提供完整的支持，因此本书将按照C89标准来进行讲解，在适当时会补充C99标
准的规定和用法。
ANSI/ISO C 标准，通常叫 C89 或 C90 标准，ANSI 美国国家标准协会
C99 标准
C11 标准

## C语言的简洁

C语言仅有32个关键字，9种控制语句，34种运算符，却能完成无数的功能

所谓关键字是指在编程语言里事先定义好并赋予了特殊含义的单词，也称作保留
字。关键字在程序中用于表示特殊含义，不能被随便用作变量名、函数名等，在C
语言中，C89标准中共定义了37个关键字，具体如下：
32个关键字，由系统定义，不能重作其它定义

## 32个关键字

　　1、void：声明函数无返回值或无参数，声明无类型指针，显式丢弃运算结果
　　2、char：字符型类型数据，属于整型数据的一种
　　3、int：整型数据，通常为编译器指定的机器字长
　　4、float：单精度浮点型数据，属于浮点数据的一种
　　5、double：双精度浮点型数据，属于浮点数据的一种
　　6、short：修饰int，短整型数据，可省略被修饰的int。
　　7、long：修饰int，长整形数据，可省略被修饰的int。
　　8、signed：修饰整型数据，有符号数据类型
　　9、unsigned：修饰整型数据，无符号数据类型
　　10、struct：结构体声明
　　11、union：共用体声明
　　12、enum：枚举声明
　　13、typedef：声明类型别名
　　14、sizeof：得到特定类型或特定类型变量的大小
　　15、auto：指定为自动变量，由编译器自动分配及释放。通常在栈上分配
　　16、static：指定为静态变量，分配在静态变量区，修饰函数时，指定函数作用域为文件内部
　　17、register：指定为寄存器变量，建议编译器将变量存储到寄存器中使用，也可以修饰函数形参，建议编译器通过寄存器而不是堆栈传递参数
　　18、extern：指定对应变量为外部变量，即在另外的目标文件中定义，可以认为是约定由另外文件声明的对象的一个“引用”
　　19、const：与volatile合称“cv特性”，指定变量不可被当前线程/进程改变（但有可能被系统或其他线程/进程改变）
　　20、volatile：与const合称“cv特性”，指定变量的值有可能会被系统或其他进程/线程改变，强制编译器每次从内存中取得该变量的值
　　21、return：用在函数体中，返回特定值（或者是void值，即不返回值）
　　22、continue：结束当前循环，开始下一轮循环
　　23、break：跳出当前循环或switch结构
　　24、goto：无条件跳转语句
　　25、if：条件语句
　　26、else：条件语句否定分支（与if连用）
　　27、switch：开关语句（多重分支语句）
　　28、case：开关语句中的分支标记
　　29、default：开关语句中的“其他”分治，可选。
　　30、for：for循环结构
　　31、do：do循环结构
　　32、while：while循环结构

注：类型限定符
限定符    含义
extern   声明一个变量，extern声明的变量没有建立存储空间。 extern int a;
const    定义一个常量，常量的值不能修改。 const int a = 10;
volatile 防止编译器优化代码
register 定义寄存器变量，提高效率。register是**建议型**的指令，而不是命令型的指令，如果CPU有空闲寄存器，那么register就生效，如果没有空闲寄存器，那么register无效。

## 9种控制语句

　　1.if()~else条件语句
　　2.for()~循环语句
　　3.while()~循环语句
　　4.do~while()循环语句
　　5.continue结束本次循环语句
　　6.break中止执行switch或循环语句
　　7.switch多分支选择语句
　　8.goto转向语句
　　9.return从函数返回语句

## 34种运算符：

　　01．圆括号()
　　02．下标[]
　　03．指针型结构成员->
　　04．结构成员.
　　05．逻辑非!
　　06．位非~
　　07．自增++
　　08．自减--
　　09．取负-
　　10．类型转换(类型)
　　11．取内容*
　　12．取地址&
　　13．求字节sizeof
　　14．乘*
　　15．除/
　　16．求余%
　　17．加+
　　18．减-
　　19．左移<<
　　20．右移>>
　　21．小于<
　　22．小于等于<=
　　23．大于>
　　24．大于等于>=
　　25．等于==
　　26．不等于 !=
　　27．位与 &
　　28．位异或 ^
　　29．位或 |
　　&&30．与
　　31．或 ||
　　32．条件运算 ?:
　　33．赋值运算 =
　　34．逗号运算 ,

## 宏

预处理命令可以改变程序设计环境,提高编程效率,它们并不是 C 语言本身的组成部分,不能直接对 它们进行编译,必须在对程序进行编译之前,先对程序中这些特殊的命令进行“预处理” 。经过预处理后,程序就不再包括预处理命令了,最后再由编译程序对预处理之后的源程序进行编译处理,得到可供执行的 目标代码。C 语言提供的预处理功能有三种,分别为宏定义、文件包含和条件编译,下面将对它们进行简 单介绍。 
宏定义 在 C 语言源程序中允许用一个标识符来表示一个字符串,称为“宏” ,被定义为“宏”的标识符称为“宏名”。在编译预处理时,对程序中所有出现的宏名,都用宏定义中的字符串去代换,这称为“宏代换”或“宏展开”。 宏定义是由源程序中的宏定义命令完成的,宏代换是由预处理程序自动完成的。在 C 语言中,宏分为 有参数和无参数两种。无参宏的宏名后不带参数,其定义的一般形式为: 
#define 标识符 字符串; 
其中“#”表示这是一条预处理命令(在 C 语言中凡是以“#”开头的均为预处理命令)“define”为宏定义命令,“标识符”为所定义的宏名, “字符串”可以是常数、表达式、格式串等。符号常量的定义就是一种无参宏定义。 
此外,常常对程序中反复使用的表达式进行宏定义。例如: 

```c
#define M (y*y+3*y);
```   

它的作用是指定标识符 M 来代替表达式(y*y+3*y)。 
在编写源程序时, 所有的(y*y+3*y)都可由 M 代替, 而对源程序进行编译时,将先由预处理程序进行宏代换,即用(y*y+3*y)表达式去置换所有的宏名 M,然后 再进行编译。 
C语言允许宏带有参数。在宏定义中的参数称为形式参数,在宏调用中的参数称为实际参数。对于带 参数的宏,在调用中,不仅要宏展开,而且要用实参去代换形参。 
带参宏定义的一般形式为: 
#define 宏名(形参表) 字符串; 
在字符串中含有各个形参。 
带参宏调用的一般形式为: 
宏名(实参表); 
例如: 

```c
#define M(y) y*y+3*y
/*宏定义*/
......
k=M(5);
/*宏调用*/
```

...... 
在上面的宏调用时,用实参 5 去代替形参 y,经预处理宏展开后的语句为: 
k=5*5+3*5; 
程序 2.26 给出了一个宏定义和调用的完整实例。 
定义一个名为 MAX 的带参数的宏,可以通过它来选出参数 a、b 中的较大值:test26.c。 

   
```c
#include <stdio.h>
#define MAX(a,b) (a>b)?a:b
/*带参数的宏定义*/
main()
{
int x,y,max;
printf("input two numbers: ");
scanf("%d %d",&x,&y);
max=MAX(x,y);
printf("max=%d\n",max);
/*宏调用*/
}</stdio.h>
```   

程序运行结果如下(□表示空格,↙表示回车) : 

input two numbers: 2009□2010↙
max=2010

可以看到,宏替换相当于实现了一个函数调用的功能,而事实上,与函数调用相比,宏调用更能提高 C 程序的执行效率。

